---
title: 'Referência da API'
description: 'Documentação e playground interativo da API RelaxPay'
icon: 'code'
---

# API RelaxPay

<Note>
  Esta é a documentação interativa da API RelaxPay. Você pode testar os endpoints diretamente nesta página.
</Note>

## Autenticação

Para usar o playground, siga estas etapas:

1. Adicione seu **Client ID** (ci) no campo de autenticação no topo do playground
2. Adicione seu **Client Secret** (cs) como um cabeçalho personalizado:

```http
cs: seu-client-secret
```

<Warning>
  Ao testar o endpoint de PIX Cash-out, lembre-se que é necessário cadastrar o IP de onde a requisição será feita. 
  O playground funciona apenas para testes no ambiente sandbox.
</Warning>

## Playground Interativo

<Card>
  O playground abaixo permite testar todos os endpoints da API RelaxPay diretamente nesta documentação.
  Escolha o endpoint, preencha os parâmetros necessários e clique em "Enviar" para realizar a requisição.
</Card>

<iframe
  className="w-full h-[800px] rounded-lg"
  src="/api"
  frameBorder="0"
></iframe>

## Exemplos de Uso

### Criando um QR Code PIX (Cash-in)

<CodeGroup>
  <Code title="JavaScript">
    ```javascript
    const criarQrCode = async () => {
      try {
        const response = await fetch('https://sandbox.ws.relaxpay.site/api/v1/gateway/request-qrcode', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'ci': 'seu-client-id',
            'cs': 'seu-client-secret'
          },
          body: JSON.stringify({
            requestNumber: 'PEDIDO-12345',
            dueDate: '2024-12-31',
            amount: 100.00,
            callbackUrl: 'https://seu-site.com/webhook/relaxpay'
          })
        });
        
        const data = await response.json();
        console.log('QR Code gerado:', data);
        
        // Exiba o QR Code para o usuário
        document.getElementById('qrcode-img').src = `data:image/png;base64,${data.paymentCodeBase64}`;
        document.getElementById('payment-code').textContent = data.paymentCode;
      } catch (error) {
        console.error('Erro ao gerar QR Code:', error);
      }
    };
    ```
  </Code>
  <Code title="PHP">
    ```php
    <?php
    function criarQrCode() {
      $curl = curl_init();
      
      curl_setopt_array($curl, [
        CURLOPT_URL => 'https://sandbox.ws.relaxpay.site/api/v1/gateway/request-qrcode',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_POST => true,
        CURLOPT_HTTPHEADER => [
          'Content-Type: application/json',
          'ci: seu-client-id',
          'cs: seu-client-secret'
        ],
        CURLOPT_POSTFIELDS => json_encode([
          'requestNumber' => 'PEDIDO-12345',
          'dueDate' => '2024-12-31',
          'amount' => 100.00,
          'callbackUrl' => 'https://seu-site.com/webhook/relaxpay'
        ])
      ]);
      
      $response = curl_exec($curl);
      $data = json_decode($response, true);
      
      if (isset($data['paymentCodeBase64'])) {
        echo '<img src="data:image/png;base64,' . $data['paymentCodeBase64'] . '" />';
        echo '<div>' . $data['paymentCode'] . '</div>';
      } else {
        echo 'Erro ao gerar QR Code: ' . $response;
      }
      
      curl_close($curl);
    }
    ?>
    ```
  </Code>
</CodeGroup>

### Enviando um PIX (Cash-out)

<CodeGroup>
  <Code title="JavaScript">
    ```javascript
    const enviarPix = async () => {
      try {
        const response = await fetch('https://sandbox.ws.relaxpay.site/api/v1/gateway/pix-payment', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'ci': 'seu-client-id',
            'cs': 'seu-client-secret'
          },
          body: JSON.stringify({
            value: 150.00,
            key: '62999998888',
            typeKey: 'phoneNumber',
            callbackUrl: 'https://seu-site.com/webhook/relaxpay',
            externalId: 'PAGAMENTO-12345'
          })
        });
        
        const data = await response.json();
        console.log('Transferência iniciada:', data);
      } catch (error) {
        console.error('Erro ao enviar PIX:', error);
      }
    };
    ```
  </Code>
  <Code title="PHP">
    ```php
    <?php
    function enviarPix() {
      $curl = curl_init();
      
      curl_setopt_array($curl, [
        CURLOPT_URL => 'https://sandbox.ws.relaxpay.site/api/v1/gateway/pix-payment',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_POST => true,
        CURLOPT_HTTPHEADER => [
          'Content-Type: application/json',
          'ci: seu-client-id',
          'cs: seu-client-secret'
        ],
        CURLOPT_POSTFIELDS => json_encode([
          'value' => 150.00,
          'key' => '62999998888',
          'typeKey' => 'phoneNumber',
          'callbackUrl' => 'https://seu-site.com/webhook/relaxpay',
          'externalId' => 'PAGAMENTO-12345'
        ])
      ]);
      
      $response = curl_exec($curl);
      $data = json_decode($response, true);
      
      if (isset($data['idTransaction'])) {
        echo 'Transferência iniciada. ID: ' . $data['idTransaction'];
      } else {
        echo 'Erro ao enviar PIX: ' . $response;
      }
      
      curl_close($curl);
    }
    ?>
    ```
  </Code>
</CodeGroup>

## SDKs Oficiais

Além da API REST, oferecemos SDKs para facilitar a integração em diferentes linguagens:

<CardGroup cols={3}>
  <Card title="JavaScript SDK" icon="js" href="https://github.com/relaxpay/relaxpay-js" color="#F7DF1E">
    npm install relaxpay-js
  </Card>
  <Card title="PHP SDK" icon="php" href="https://github.com/relaxpay/relaxpay-php" color="#777BB4">
    composer require relaxpay/relaxpay-php
  </Card>
  <Card title="Python SDK" icon="python" href="https://github.com/relaxpay/relaxpay-python" color="#3776AB">
    pip install relaxpay
  </Card>
</CardGroup>

<Note>
  Os SDKs são mantidos e atualizados regularmente. Consulte os repositórios individuais para mais detalhes e exemplos de uso.
</Note> 